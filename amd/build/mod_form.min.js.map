{"version":3,"file":"mod_form.min.js","sources":["../src/mod_form.js"],"sourcesContent":["define([\n  'core/notification',\n  'core/str',\n  'mod_googlemeet/gapi'\n], function(notification, str, gapi) {\n  return {\n    init: function(clientId, apiKey, userTimeZone) {\n      // GSI variables\n      let tokenClient;\n      let gapiInited = false;\n      let gisInited = false;\n\n      // Array of API discovery doc URLs for APIs used by the quickstart\n      var discoveryDocs = [\"https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest\"];\n\n      // Authorization scopes required by the API\n      var scope = 'https://www.googleapis.com/auth/calendar.events';\n\n      // Load strings\n      var requiredfield = '';\n      var strcheckweekdays = '';\n      var invalideventendtime = '';\n      var invalideventenddate = '';\n      var timeahead = '';\n      str.get_strings([\n        {key: 'requirednamefield', component: 'mod_googlemeet'},\n        {key: 'checkweekdays', component: 'mod_googlemeet'},\n        {key: 'invalideventendtime', component: 'mod_googlemeet'},\n        {key: 'invalideventenddate', component: 'mod_googlemeet'},\n        {key: 'timeahead', component: 'mod_googlemeet'},\n      ]).done(function(strs) {\n        requiredfield = strs[0];\n        strcheckweekdays = strs[1];\n        invalideventendtime = strs[2];\n        invalideventenddate = strs[3];\n        timeahead = strs[4];\n      }).fail(notification.exception);\n\n      // Elements references\n      var generateUrlRoomButton = document.getElementById('id_generateurlroom');\n      var urlFieldHidden = document.getElementById('id_url');\n      var urlViewerField = document.getElementById('id_url_viewer');\n      var originalNameFieldHidden = document.getElementById('id_originalname');\n      var creatorEmailFieldHidden = document.getElementById('id_creatoremail');\n      var form = document.querySelector('#region-main .mform');\n\n      /**\n       * Returns date formatted in yyyy-mm-dd format\n       *\n       * @param {string} name name of date filed in formdata\n       * @param {boolean} format if it is to return the formatted date\n       * @return {string} The formatted date\n       */\n      function getDateString(name, format) {\n        var formData = new FormData(form);\n        var year = formData.get(name + '[year]');\n        var month = formData.get(name + '[month]');\n        var day = formData.get(name + '[day]');\n\n        month = ('0' + month).slice(-2);\n        day = ('0' + day).slice(-2);\n\n        if (format) {\n          return year + '-' + month + '-' + day;\n        }\n\n        return year + month + day;\n      }\n\n      /**\n       * Checks whether the selected day of the week exists within the start and end dates\n       * @return {boolean}\n       */\n      function checkweekdays() {\n        var formData = new FormData(form);\n\n        var starthour = formData.get('starthour');\n        var startminute = formData.get('startminute');\n        var endhour = formData.get('endhour');\n        var endminute = formData.get('endminute');\n\n        starthour = ('0' + starthour).slice(-2);\n        startminute = ('0' + startminute).slice(-2);\n        endhour = ('0' + endhour).slice(-2);\n        endminute = ('0' + endminute).slice(-2);\n\n        var starttime = starthour + ':' + startminute + ':00';\n        var endtime = endhour + ':' + endminute + ':00';\n\n        var eventdate = getDateString('eventdate', true) + ' ' + starttime;\n        var eventenddate = getDateString('eventenddate', true) + ' ' + endtime;\n\n        var daysofweek = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n\n        var start = new Date(eventdate);\n        var end = new Date(eventenddate);\n\n        var found = false;\n        while (start <= end) {\n          if (!found) {\n            for (var i = 0; i <= daysofweek.length; i++) {\n              var currentday = daysofweek[start.getDay()];\n              var formday = formData.get('days[' + daysofweek[i] + ']');\n              if (formday && currentday === daysofweek[i]) {\n                found = true;\n                break;\n              }\n            }\n          }\n          start = new Date(start.setDate(start.getDate() + 1));\n        }\n\n        return found;\n      }\n\n      /**\n       * Validates form data\n       * @return {boolean}\n       */\n      function validate() {\n        var valid = true;\n        var formData = new FormData(form);\n\n        // The name is required\n        var nameInput = document.getElementById('id_name');\n        var nameError = document.getElementById('id_error_name');\n        if (formData.get('name').trim().length === 0) {\n          nameInput.classList.add('is-invalid');\n          nameInput.focus();\n          nameError.innerText = '- ' + requiredfield;\n          nameError.style.display = \"block\";\n          return false;\n        } else {\n          nameInput.classList.remove('is-invalid');\n          nameError.innerText = '';\n          nameError.style.display = \"none\";\n        }\n\n        // The end time cannot be less than the start time\n        var eventTimeError = document.getElementById('id_googlemeet_eventtime_error');\n        var starttime = formData.get('starthour') * 3600 + formData.get('startminute') * 60;\n        var endtime = formData.get('endhour') * 3600 + formData.get('endminute') * 60;\n        if (endtime < starttime) {\n          eventTimeError.innerText = invalideventendtime;\n          eventTimeError.style.display = \"block\";\n          document.getElementById('id_endhour').focus();\n          return false;\n        } else {\n          eventTimeError.innerText = '';\n          eventTimeError.style.display = \"none\";\n        }\n\n        // The end date cannot be less than the start date\n        var eventdate = Math.floor(new Date(getDateString('eventdate', true)).getTime() / 1000);\n        var eventenddate = Math.floor(new Date(getDateString('eventenddate', true)).getTime() / 1000);\n        var eventenddateerror = document.getElementById('id_googlemeet_eventenddategroup_error');\n        if (\n          formData.get('addmultiply') &&\n          eventdate !== 0 &&\n          eventenddate !== 0 &&\n          eventenddate < eventdate\n        ) {\n          eventenddateerror.innerText = invalideventenddate;\n          eventenddateerror.style.display = \"block\";\n          document.getElementById('id_eventenddate_day').focus();\n          return false;\n        } else if (\n          // The event period cannot be longer than one year\n          formData.get('addmultiply') &&\n          Math.ceil((eventenddate - eventdate) / 31536000) > 1\n        ) {\n          eventenddateerror.innerText = timeahead;\n          eventenddateerror.style.display = \"block\";\n          document.getElementById('id_eventenddate_day').focus();\n          return false;\n        } else {\n          eventenddateerror.innerText = '';\n          eventenddateerror.style.display = \"none\";\n        }\n\n        // The days of the week must fall within the date range of the event.\n        if (formData.get('addmultiply')) {\n          var dayserror = document.getElementById('id_googlemeet_days_error');\n          if (!checkweekdays()) {\n            dayserror.innerText = strcheckweekdays;\n            dayserror.style.display = \"block\";\n            document.getElementById('id_days_Mon').focus();\n            return false;\n          } else {\n            dayserror.innerText = '';\n            dayserror.style.display = \"none\";\n          }\n        }\n\n        return valid;\n      }\n\n      /**\n       * Callback after 'Generate room URL' button is clicked.\n       */\n      function gapiLoaded() {\n        gapi.load('client', initializeGapiClient);\n      }\n\n      /**\n       * Callback after the API client is loaded. Loads the\n       * discovery doc to initialize the API.\n       */\n      async function initializeGapiClient() {\n        await gapi.client.init({\n          apiKey: apiKey,\n          discoveryDocs: discoveryDocs,\n        });\n        gapiInited = true;\n        maybeEnableButtons();\n      }\n\n      /**\n       * Callback after 'Generate room URL' button is clicked.\n       */\n      function gisLoaded() {\n        tokenClient = google.accounts.oauth2.initTokenClient({ // eslint-disable-line no-undef\n          client_id: clientId,\n          scope: scope,\n          callback: '', // defined later\n        });\n        gisInited = true;\n        maybeEnableButtons();\n      }\n\n      /**\n       * Enables user interaction after all libraries are loaded.\n       */\n      function maybeEnableButtons() {\n        if (gapiInited && gisInited) {\n          generateUrlRoomButton.onclick = handleAuthClick;\n          generateUrlRoomButton.disabled = false;\n          return;\n        }\n      }\n\n      /**\n       *  Sign in the user upon button click.\n       */\n      function handleAuthClick() {\n        tokenClient.callback = async (resp) => {\n          if (resp.error !== undefined) {\n            throw (resp);\n          }\n          handleCreateEvent();\n          return;\n        };\n\n        if (gapi.client.getToken() === null) {\n          // Prompt the user to select a Google Account and ask for consent to share their data\n          // when establishing a new session.\n          tokenClient.requestAccessToken({prompt: 'consent'});\n        } else {\n          // Skip display of account chooser and consent dialog for an existing session.\n          tokenClient.requestAccessToken({prompt: ''});\n        }\n      }\n\n      /**\n       * Initializes the creation of the event in Google Calendar\n       */\n      function handleCreateEvent() {\n        hidePre();\n\n        if (!validate()) {\n          return;\n        }\n        createEvent();\n        return;\n      }\n      // End new GSI process\n\n      /**\n       * Displays loading\n       *\n       * @param {boolean} show if it is to show loading\n       */\n      function showLoading(show) {\n        var generateurlroomLoading = document.getElementById('generateurlroomLoading');\n\n        if (show) {\n          generateurlroomLoading.style.display = \"block\";\n          generateUrlRoomButton.disabled = true;\n        } else {\n          generateurlroomLoading.style.display = \"none\";\n          generateUrlRoomButton.disabled = false;\n        }\n      }\n\n      /**\n       * Concatenates with name a random number\n       *\n       * @param {string} name\n       * @return {string} The formatted name\n       */\n      function formatName(name) {\n        var random = (Math.floor(Math.random() * (9999 - 1111)) + 1111);\n        return name + ' (' + random + ')';\n      }\n\n      /**\n       * Append a pre-element to the body that contains the message\n       * provided as its text node. Used to display API call errors.\n       *\n       * @param {string} message Text to be placed in pre element.\n       */\n      function appendPre(message) {\n        var pre = document.getElementById('googlemeetcontentlog');\n        var textContent = document.createTextNode(message + '\\n');\n        pre.style.display = \"block\";\n        pre.appendChild(textContent);\n      }\n\n      /**\n       * Hide the pre tag\n       */\n      function hidePre() {\n        var pre = document.getElementById('googlemeetcontentlog');\n        pre.style.display = \"none\";\n        pre.innerHTML = \"\";\n      }\n\n      /**\n       * Creates the event on Google Calendar\n       */\n      function createEvent() {\n        var formData = new FormData(form);\n\n        var starthour = formData.get('starthour');\n        var startminute = formData.get('startminute');\n        var endhour = formData.get('endhour');\n        var endminute = formData.get('endminute');\n\n        starthour = ('0' + starthour).slice(-2);\n        startminute = ('0' + startminute).slice(-2);\n        endhour = ('0' + endhour).slice(-2);\n        endminute = ('0' + endminute).slice(-2);\n\n        var eventstarttime = starthour + ':' + startminute + ':00';\n        var eventendtime = endhour + ':' + endminute + ':00';\n\n        var start = {\n          dateTime: getDateString('eventdate', true) + 'T' + eventstarttime,\n          timeZone: userTimeZone\n        };\n\n        var end = {\n          dateTime: getDateString('eventdate', true) + 'T' + eventendtime,\n          timeZone: userTimeZone\n        };\n\n        var recurrence = [];\n\n        if (formData.get('addmultiply')) {\n          var interval = 'INTERVAL=' + formData.get('period');\n          var until = 'UNTIL=' + getDateString('eventenddate', false) + 'T235959Z';\n          var byday = 'BYDAY=';\n\n          var daysofweek = {\n            Sun: 'SU',\n            Mon: 'MO',\n            Tue: 'TU',\n            Wed: 'WE',\n            Thu: 'TH',\n            Fri: 'FR',\n            Sat: 'SA'\n          };\n\n          for (var day in daysofweek) {\n            if (formData.get('days[' + day + ']')) {\n              byday += daysofweek[day] + ',';\n            }\n          }\n\n          recurrence = [\n            'RRULE:FREQ=WEEKLY;' + interval + ';' + until + ';' + byday\n          ];\n        }\n\n        var name = formatName(formData.get('name'));\n        var eventResource = {\n          summary: name,\n          description: formData.get('introeditor[text]'),\n          start: start,\n          end: end,\n          recurrence: recurrence\n        };\n\n        showLoading(true);\n\n        gapi.client.calendar.events.insert({\n          'calendarId': 'primary',\n          'resource': eventResource\n        }).then(function(response) {\n          var event = response.result;\n\n          var eventPatch = {\n            conferenceData: {\n              createRequest: {requestId: event.id}\n            }\n          };\n\n          gapi.client.calendar.events.patch({\n            calendarId: \"primary\",\n            eventId: event.id,\n            resource: eventPatch,\n            sendNotifications: false,\n            conferenceDataVersion: 1\n          }).then(function(response) {\n            var event = response.result;\n\n            generateUrlRoomButton.remove();\n            originalNameFieldHidden.value = name;\n            urlFieldHidden.value = event.hangoutLink;\n            urlViewerField.value = event.hangoutLink;\n            creatorEmailFieldHidden.value = event.creator.email;\n\n            document.getElementById('id_googlemeet_generateurlgroup_error').style.display = 'none';\n\n            showLoading(false);\n            return;\n          }).catch(function(error) {\n            appendPre(JSON.stringify(error.result.error, null, 2));\n            showLoading(false);\n          });\n          return;\n        }).catch(function(error) {\n          appendPre(JSON.stringify(error.result.error, null, 2));\n          showLoading(false);\n        });\n      }\n\n      /**\n       *  On load, called to load the auth2 library and API client library.\n       */\n      gapiLoaded();\n      gisLoaded();\n    }\n  };\n});\n"],"names":["define","notification","str","gapi","init","clientId","apiKey","userTimeZone","tokenClient","gapiInited","gisInited","discoveryDocs","requiredfield","strcheckweekdays","invalideventendtime","invalideventenddate","timeahead","get_strings","key","component","done","strs","fail","exception","generateUrlRoomButton","document","getElementById","urlFieldHidden","urlViewerField","originalNameFieldHidden","creatorEmailFieldHidden","form","querySelector","getDateString","name","format","formData","FormData","year","get","month","day","slice","validate","nameInput","nameError","trim","length","classList","add","focus","innerText","style","display","remove","eventTimeError","starttime","eventdate","Math","floor","Date","getTime","eventenddate","eventenddateerror","ceil","dayserror","starthour","startminute","endhour","endminute","endtime","daysofweek","start","end","found","i","currentday","getDay","setDate","getDate","checkweekdays","initializeGapiClient","client","maybeEnableButtons","onclick","handleAuthClick","disabled","callback","async","undefined","resp","error","pre","innerHTML","hidePre","eventstarttime","eventendtime","dateTime","timeZone","recurrence","interval","until","byday","Sun","Mon","Tue","Wed","Thu","Fri","Sat","random","formatName","eventResource","summary","description","showLoading","calendar","events","insert","then","response","event","result","eventPatch","conferenceData","createRequest","requestId","id","patch","calendarId","eventId","resource","sendNotifications","conferenceDataVersion","value","hangoutLink","creator","email","catch","appendPre","JSON","stringify","createEvent","handleCreateEvent","getToken","requestAccessToken","prompt","show","generateurlroomLoading","message","textContent","createTextNode","appendChild","load","google","accounts","oauth2","initTokenClient","client_id","scope"],"mappings":"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"}